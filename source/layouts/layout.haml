!!!
%html
  %head
    %meta{:charset => "utf-8"}/
    %meta{:name => "viewport", :content => "width=device-width, initial-scale=1.0"}

    / favicon
    %link{ :rel => "icon", :type => "image/png", :href => "/images/favicon.ico" }

    / Always force latest IE rendering engine or request Chrome Frame
    %meta{:content => "IE=edge,chrome=1", "http-equiv" => "X-UA-Compatible"}

    / Use title if it's in the page YAML frontmatter
    %title
      - if current_page.data.title
        = current_page.data.title + " - Nanobox Documentation"
      - else
        = "Nanobox Documentation"

    %link{:href => "http://fonts.googleapis.com/css?family=Lato:300,400,700,400italic,700italic", :rel => "stylesheet", :type => "text/css"}

    = stylesheet_link_tag "all"
    = javascript_include_tag  "all"

  %body
    #header
      %a#logo.left{ :href => '/' }
        %svg#nanobox-logo{"enable-background" => "new 0 0 19 33", :space => "preserve", :version => "1.1", :viewbox => "0 0 19 33", :x => "0px", :xmlns => "http://www.w3.org/2000/svg", "xmlns:xlink" => "http://www.w3.org/1999/xlink", :y => "0px"}
          %g
            %g
              %polygon{:fill => "#405C70", :points => "19,26 9.6,30.9 0,26 9.4,21.1"}
              %polygon{:fill => "#2F4352", :points => "15,24 9.5,26.9 3.9,24 9.4,21.1"}
              %polygon{:fill => "#1C2830", :points => "9.6,30.9 19,26.1 19,27.4 9.6,32.3 "}
              %polygon{:fill => "#19242B", :points => "9.6,30.9 0,26 0,27.3 9.6,32.3 "}
            %g
              %polygon{:fill => "#1E77A3", :points => "9.5,23.1 17.2,19.1 17.2,20.3 9.5,24.2 "}
              %polygon{:fill => "#175D80", :points => "9.5,23.1 1.8,19.1 1.8,20.3 9.5,24.2 "}
              %polygon{:fill => "#62B1DD", :points => "17.2,19.1 9.5,23.1 1.8,19.1 9.5,15.2"}
              %polygon{"enable-background" => "new", :fill => "#0B194F", :opacity => "0.42", :points => "15.1,18.1 9.5,21 3.9,18.1 9.5,15.2 "}
            %g
              %polygon{:fill => "#43C494", :points => "9.5,16.9 18.8,12.2 18.8,13.5 9.5,18.3 "}
              %polygon{:fill => "#4AAA88", :points => "9.5,16.9 0.2,12.2 0.2,13.5 9.5,18.3 "}
              %polygon{:fill => "#7FE0BF", :points => "18.8,12.2 9.5,16.9 0.2,12.2 9.5,7.4 "}
              %polygon{"enable-background" => "new", :fill => "#43C4A6", :opacity => "0.76", :points => "16.3,10.9 9.5,14.4 2.7,10.9 9.5,7.4"}
            %g
              %polygon{:fill => "#FDE5A6", :points => "18.8,4.8 9.5,9.6 0.2,4.8 9.5,0"}
              %polygon{:fill => "#E9D399", :points => "9.5,9.6 18.8,4.8 18.8,6.2 9.5,11"}
              %polygon{:fill => "#D9BB6F", :points => "9.5,9.6 0.2,4.8 0.2,6.2 9.5,11"}
        %span#nb-title
          %span.drop Nanobox
          Docs
      %ul.links
        %li.text
          %a.active{ :href => "/" }
            Local
        %li.text 
          %a{ :href => "/production/intro/" }
            Production
        %li 
          %a{ :href => 'http://nanobox.io'}
            %svg#home-icon{"enable-background" => "new 0 0 18 18", :space => "preserve", :version => "1.1", :viewbox => "0 0 18 18", :x => "0px", :xmlns => "http://www.w3.org/2000/svg", "xmlns:xlink" => "http://www.w3.org/1999/xlink", :y => "0px"}
              %polygon{:fill => "none", :points => "11,13 11,9 9,7 7,9 \r\n\t7,13 ", "stroke-linecap" => "round", "stroke-miterlimit" => "10", "stroke-width" => "2"}
              %polyline{:fill => "none", :points => "14,11 14,16 4,16 \r\n\t4,11 ", "stroke-linecap" => "round", "stroke-miterlimit" => "10", "stroke-width" => "2"}
              %polyline{:fill => "none", :points => "2,9.1 9.1,2 \r\n\t16.1,9.1 ", "stroke-linecap" => "round", "stroke-miterlimit" => "10", "stroke-width" => "2"}
    #wrapper
      #contents-btn.open Contents
      #navigation
        %ul#contents.closed
          - data.contents.categories.each do |category|
            %li{ nav_article_active( category.path ) }
              = link_to category.title, category.path
              - if category.articles
                %ul.sub
                  - category.articles.each do |article|
                    %li{ nav_article_active( article.path ) }
                      = link_to article.title, article.path
                      - if article.sub_articles
                        %ul.sub
                          - article.sub_articles.each do |sub_article|
                            %li{ nav_article_active( sub_article.path ) }
                              = link_to sub_article.title, sub_article.path
      #content
        - if data.page.title
          %h1 #{ data.page.title }
        = find_and_preserve do
          = yield
        #pagination
          - prev_article = get_prev_article(current_page.url)
          - if prev_article
            = link_to prev_article[:title], prev_article[:path], class: "prev"

          - next_article = get_next_article(current_page.url)
          - if next_article
            = link_to next_article[:title], next_article[:path], class: "next"

    #footer
      #wrapper
        .left
          %ul
            %li.title Nanobox
            %li
              %a{ :href => "http://nanobox.io/downloads/"} Download
            %li 
              %a{ :href => "https://github.com/pagodabox?utf8=%E2%9C%93&query=nanobox"} Fork on Github
          %ul
            %li.title Community
            %li
              %a{ :href => "http://webchat.freenode.net/?channels=nanobox", :target => "_blank"} #nanobox IRC
            %li
              %a{ :href => "http://trello.com/b/4nVFzmNZ/nanobox", :target => "_blank" } Track Progress on Trello
          %p Pagoda Box Inc.  Â© Copyright 2015 - <em>Nanobox, a <a href="https://pagodabox.io">Pagoda Box</a> Project</em>
        .right
          %a#production{ :href => "#" }
            %svg#logo{"enable-background" => "new 0 0 56 96.7", :space => "preserve", :version => "1.1", :viewbox => "0 0 56 96.7", :x => "0px", :xmlns => "http://www.w3.org/2000/svg", "xmlns:xlink" => "http://www.w3.org/1999/xlink", :y => "0px"}
              %g
                %polygon{:fill => "#2B3E4B", :points => "56.4,77.3 28.5,91.7 0,77 27.9,62.7  "}
                %polygon{:fill => "#23313C", :points => "32.5,80.5 22.6,85.7 17.7,83.2 27.5,78   "}
                %polygon{:fill => "#1A242B", :points => "17.7,83.1 27.5,78 27.5,81.4 20.9,84.8   "}
                %polyline{:fill => "#1C2830", :points => "27.5,78 27.5,81.4 29.2,82.2 32.5,80.5  "}
                %polygon{:fill => "#23313C", :points => "26.2,77.3 16.4,82.5 11.5,79.9 21.3,74.8   "}
                %polygon{:fill => "#1A242B", :points => "11.5,79.9 21.3,74.7 21.3,78.1 14.7,81.6   "}
                %polyline{:fill => "#1C2830", :points => "21.3,74.7 21.3,78.1 23,79 26.2,77.3  "}
                %polygon{:fill => "#23313C", :points => "20,74 10.1,79.2 5.2,76.7 15.1,71.5  "}
                %polygon{:fill => "#1A242B", :points => "5.2,76.6 15.1,71.5 15.1,74.9 8.5,78.3   "}
                %polyline{:fill => "#1C2830", :points => "15.1,71.5 15.1,74.9 16.7,75.7 20,74  "}
                %polygon{:fill => "#1C2830", :points => "28.5,91.7 56.4,77.3 56.4,81.4 28.5,95.8   "}
                %polygon{:fill => "#1A242B", :points => "28.5,91.7 0,77 0,81.1 28.5,95.8   "}
                %polygon{:fill => "#23313C", :points => "48.2,78.8 35.2,85.5 30.3,83 43.2,76.3   "}
                %polygon{:fill => "#1A242B", :points => "30.3,83 46.5,74.5 46.5,77.9 33.6,84.7   "}
                %polygon{:fill => "#23313C", :points => "45.2,73.8 35.4,79 30.4,76.5 40.3,71.3   "}
                %polygon{:fill => "#1A242B", :points => "30.4,76.4 40.3,71.3 40.3,74.7 33.7,78.1   "}
                %polyline{:fill => "#1C2830", :points => "40.3,71.3 40.3,74.7 41.9,75.5 45.2,73.8  "}
                %polygon{:fill => "#23313C", :points => "39,70.6 29.1,75.8 24.2,73.2 34,68.1   "}
                %polygon{:fill => "#1A242B", :points => "24.2,73.2 34,68 34,71.4 27.4,74.9   "}
                %polyline{:fill => "#1C2830", :points => "34,68 34,71.4 35.7,72.3 39,70.6  "}
                %polygon{:fill => "#23313C", :points => "32.7,67.3 22.9,72.5 18,70 27.8,64.8   "}
                %polygon{:fill => "#1A242B", :points => "18,69.9 27.8,64.8 27.8,68.2 21.2,71.6   "}
                %polyline{:fill => "#1C2830", :points => "27.8,64.8 27.8,68.2 29.5,69 32.7,67.3  "}
                %polyline{:fill => "#1C2830", :points => "46.5,74.5 46.5,77.9 48.2,78.8 51.4,77.1  "}
                %polygon{:fill => "#23313C", :points => "33.7,86.3 28.5,89 23.6,86.5 28.8,83.7   "}
                %polygon{:fill => "#1A242B", :points => "23.6,86.4 28.8,83.7 28.8,87.1 26.9,88.1   "}
                %polyline{:fill => "#1C2830", :points => "28.8,83.7 28.8,87.1 30.4,88 33.7,86.3  "}
                %polygon{"enable-background" => "new    ", :fill => "#010101", :opacity => "0.22", :points => "48.1,73.1 27.9,83.6 7.6,73.1 27.9,62.7   "}
                %polygon{:fill => "#1F78A4", :points => "28.8,68.5 51.5,56.8 51.5,60.2 28.8,71.9   "}
                %polygon{:fill => "#1A5D80", :points => "28.8,68.5 6.1,56.8 6.1,60.2 28.8,71.9   "}
                %polygon{:fill => "#63B1DD", :points => "51.5,56.8 28.8,68.5 6.1,56.8 28.8,45  "}
                %polygon{"enable-background" => "new    ", :fill => "#1A1D4D", :opacity => "0.42", :points => "45.5,53.7 28.8,62.3 12.1,53.7 28.8,45.1  "}
                %polygon{:fill => "#50BD93", :points => "28.8,50.3 56.3,36.1 56.3,40.2 28.8,54.4   "}
                %polygon{:fill => "#4BAA88", :points => "28.8,50.3 1.3,36.1 1.3,40.2 28.8,54.4   "}
                %polygon{:fill => "#8BCFB8", :points => "56.3,36.1 28.8,50.3 1.3,36.1 28.8,21.9  "}
                %polygon{"enable-background" => "new    ", :fill => "#4EBFA4", :opacity => "0.76", :points => "49.1,32.3 28.8,42.8 8.5,32.3 28.8,21.9   "}
                %polygon{:fill => "#FFF5AE", :points => "56.3,14.3 28.6,28.6 0.9,14.3 28.6,0   "}
                %polygon{:fill => "#EBE29F", :points => "28.6,28.6 56.3,14.3 56.3,18.5 28.6,32.7   "}
                %polygon{:fill => "#DACE74", :points => "28.6,28.6 0.9,14.3 0.9,18.5 28.6,32.7   "}
            Use Nanobox in Production
